services:
  frontend:
    image: ghcr.io/wencyfyre/recipe-app-frontend:latest
    build:
      context: ./src/frontend/recipe-web-frontend/
      dockerfile: Dockerfile
      target: production
    ports:
      - "8080:80"
  authentication:
    image: ghcr.io/wencyfyre/recipe-app-authentication:latest
    build:
      context: ./src/authentication/
      dockerfile: Dockerfile
    ports:
      - "8081:8080"
    environment:
      KC_BOOTSTRAP_ADMIN_USERNAME: admin
      KC_BOOTSTRAP_ADMIN_PASSWORD: admin
      KEYCLOAK_IMPORT: /opt/keycloak/data/import/dev-realm-config.json
